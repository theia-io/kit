<p-dialog
  header="Tweet your thoughts!"
  [modal]="true"
  [draggable]="false"
  [dismissableMask]="true"
  [(visible)]="visible"
  (onHide)="onDialogFinalizeCb()"
  [style]="{ width: '25rem' }">
  <textarea
    [formControl]="tweetContentControl"
    class="w-full bg-transparent font-semibold text-xl outline-transparent"
    rows="10"
    cols="50"
    [placeholder]="placeholderText"></textarea>

  <div class="flex justify-end gap-4">
    @let tweetLength = tweetContentControl.value?.length ?? 0;
    <p class="mr-auto text-xs text-gray-400">
      <span
        [ngClass]="
          tweetLength < 2 || tweetLength > 1000
            ? 'text-red-400 font-semibold'
            : ''
        ">
        {{ tweetLength }}
      </span>
      / 1000
    </p>
    <p-button
      label="Clear"
      severity="secondary"
      (onClick)="tweetContentControl.setValue('')" />
    <div
      class="flex gap-1 flex-col w-[152px]"
      [ngClass]="
        (deviceService.isMobile$ | async) === false ? 'min-h-[62px]' : ''
      ">
      <p-button
        [disabled]="!this.tweetContentControl.valid"
        (onClick)="tweetingHandle()"
        aria-label="tweet">
        <span class="px-3">Tweet</span>
        <i class="pi pi-send animate-wiggle" style="font-size: 1.5rem"></i>
      </p-button>
      @if((deviceService.isMobile$ | async) === false &&
      tweetContentControl.valid) {
      <p class="text-xs text-gray-400">
        or press
        <strong>Ctrl + Enter</strong>
      </p>
      }
    </div>
  </div>
</p-dialog>
