<div class="sm:p-2 md:p-4 rounded transition shadow-xl hover:shadow-2xl">
  <ng-content select="[profile]" />

  <p-floatLabel class="relative">
    <textarea
      #textControl
      [formControl]="commentContentControl"
      pInputTextarea
      id="comment-content"
      variant="filled"
      (focus)="commentContentControlRows = 4"
      (blur)="commentControlBlur()"
      class="relative w-full font-semibold text-xl border-0 bg-transparent"
      [rows]="commentContentControlRows"
      cols="50"></textarea>
    <label for="comment-content">{{ placeholder() }}</label>

    @if(commentContentControlRows === 2) {
    <p-button
      styleClass="absolute top-2/4 translate-y-[-70%] right-2"
      [disabled]="true"
      aria-label="comment">
      <i class="pi pi-send"></i>
    </p-button>
    }
  </p-floatLabel>

  @if(maxMediaFiles() > 0) {
  <div class="flex gap-2 items-center">
    <ui-kit-pic-uploadable (files)="filesHandler($event)" />

    <div id="uploaded-comment-media-gallery">
      @for (media of uploadedMedias(); track $index) {
      <a
        class="block w-16 h-16 mb-3"
        [href]="media"
        data-pswp-width="64"
        data-pswp-height="64"
        target="_blank">
        <img
          referrerpolicy="no-referrer"
          class="rounded-full"
          width="64"
          height="64"
          [ngSrc]="media"
          alt="Media to the comment" />
      </a>
      <!-- <img [ngSrc]="media" width="64" height="64" alt="Media to the comment" /> -->
      }
    </div>
  </div>
  } @if(commentContentControlRows !== 2) {
  <ui-kit-tweet-button
    class="my-2"
    text="Comment"
    [iconAnimate]="true"
    [disabled]="!commentContentControl.valid"
    [loader]="false"
    (click)="commentHandler()" />
  }
</div>
