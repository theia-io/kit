<div class="w-full h-40 flex flex-col-reverse rounded-b-lg bg-cyan-200 -mt-6">
  <div class="flex justify-start items-end">
    <img
      class="inline-block h-20 w-20 rounded-full -mb-4 -ml-4"
      referrerpolicy="no-referrer"
      [src]="profilePic()"
      height="40"
      width="40"
      [alt]="profile()?.name + 'profile picture'"
    />

    <p
      class="ml-4 -mb-6 overflow-hidden inline-block text-ellipsis whitespace-nowrap font-bold"
    >
      {{ profile()?.name }}

      @if(profile()?.title) {
      <br />
      <span class="text-sm leading-5 font-bold text-gray-400">
        {{ profile()?.title }}
      </span>
      }
    </p>

    @if(!isCurrentUserProfile()) {
    <div class="grow">
      <button
        pButton
        (click)="
          isFollowing()
            ? unFollowProfileHandler(profile())
            : followProfileHandler(profile())
        "
        class="float-right mr-2 -mb-6"
        [class.min-w-32]="!isFollowing()"
        severity="contrast"
      >
        @if(!isFollowing()) { Connect
        <img
          class="ml-2"
          ngSrc="logo/handshake.gif"
          [alt]="'Follow ' + profile()?.name + ' profile'"
          width="20"
          height="20"
        />
        } @else {
        <i class="pi pi-user-minus"></i>
        }
      </button>
    </div>
    }
  </div>
</div>

<div class="mt-6">
  @if(profile()?.subtitle) {
  <p class="subtitle text-sm leading-5 font-bold text-gray-400">
    {{ profile()?.subtitle }}
  </p>
  }
</div>

@if(profile()?.description) {
<p class="mt-2 description">
  {{ profile()?.description }}
</p>
}

<div class="mt-4 flex justify-end items-center">
  @if(profile()?.following?.length) {
  <p class="text-sm font-bold">
    <i class="pi pi-users mr-1"></i>
    {{ profile()?.following?.length }}
    <span class="text-sm text-gray-400">Following</span>
  </p>
  }
</div>

<p-tabMenu styleClass="mt-4" [model]="items" />
<router-outlet></router-outlet>
